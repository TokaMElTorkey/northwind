    
     <div class="row vspacer-lg" style="border-bottom: dotted 2px #DDD;" >
        <div class="col-md-offset-2 col-md-2 vspacer-lg"><strong>Company Name</strong></div>
        <button type="button" class="btn btn-default pull-right" title='Clear fields'  onclick="clearFilters(this);" ><span class="glyphicon glyphicon-off"></button>
        <div class="col-md-1 text-center vspacer-lg"> Contains </div>
        <input type="hidden" name="FilterAnd[1]" value="and">
        <input type="hidden" name="FilterField[1]" value="2">  
        <input type="hidden" name="FilterOperator[1]" value="like">
        <div class="col-md-5 vspacer-md">
            <input type="text" class="form-control" name="FilterValue[1]" value="<?php echo htmlspecialchars($FilterValue[1]); ?>" size="3">
        </div>
    </div>


    
            <!-- ########################################################## -->
                
     <div class="row vspacer-lg" style="border-bottom: dotted 2px #DDD;" >
        <div class="col-md-offset-2 col-md-2 vspacer-lg"><strong>Phone</strong></div>
        <button type="button" class="btn btn-default pull-right" title='Clear fields'  onclick="clearFilters(this);" ><span class="glyphicon glyphicon-off"></button>
        <div class="col-md-1 text-center vspacer-lg"> Contains </div>
        <input type="hidden" name="FilterAnd[2]" value="and">
        <input type="hidden" name="FilterField[2]" value="10">  
        <input type="hidden" name="FilterOperator[2]" value="like">
        <div class="col-md-5 vspacer-md">
            <input type="text" class="form-control" name="FilterValue[2]" value="<?php echo htmlspecialchars($FilterValue[2]); ?>" size="3">
        </div>
    </div>


    
            <!-- ########################################################## -->
                
     <div class="row vspacer-lg" style="border-bottom: dotted 2px #DDD;" >
        <div class="col-md-offset-2 col-md-2 vspacer-lg"><strong>Contact Name</strong></div>
        <button type="button" class="btn btn-default pull-right" title='Clear fields'  onclick="clearFilters(this);" ><span class="glyphicon glyphicon-off"></button>
        <div class="col-md-1 text-center vspacer-lg"> Contains </div>
        <input type="hidden" name="FilterAnd[3]" value="and">
        <input type="hidden" name="FilterField[3]" value="3">  
        <input type="hidden" name="FilterOperator[3]" value="like">
        <div class="col-md-5 vspacer-md">
            <input type="text" class="form-control" name="FilterValue[3]" value="<?php echo htmlspecialchars($FilterValue[3]); ?>" size="3">
        </div>
    </div>


    
            <!-- ########################################################## -->
                
     <div class="row vspacer-lg" style="border-bottom: dotted 2px #DDD;" >
        <div class="col-md-offset-2 col-md-2 vspacer-lg"><strong>City</strong></div>
        <button type="button" class="btn btn-default pull-right" title='Clear fields'  onclick="clearFilters(this);" ><span class="glyphicon glyphicon-off"></button>
        <div class="col-md-1 text-center vspacer-lg"> Contains </div>
        <input type="hidden" name="FilterAnd[4]" value="and">
        <input type="hidden" name="FilterField[4]" value="6">  
        <input type="hidden" name="FilterOperator[4]" value="like">
        <div class="col-md-5 vspacer-md">
            <input type="text" class="form-control" name="FilterValue[4]" value="<?php echo htmlspecialchars($FilterValue[4]); ?>" size="3">
        </div>
    </div>


    
            <!-- ########################################################## -->
                
     <div class="row vspacer-lg" style="border-bottom: dotted 2px #DDD;" >
        <div class="col-md-offset-2 col-md-2 vspacer-lg"><strong>Postal Code</strong></div>
        <button type="button" class="btn btn-default pull-right" title='Clear fields'  onclick="clearFilters(this);" ><span class="glyphicon glyphicon-off"></button>
        <div class="col-md-1 text-center vspacer-lg"> Contains </div>
        <input type="hidden" name="FilterAnd[5]" value="and">
        <input type="hidden" name="FilterField[5]" value="8">  
        <input type="hidden" name="FilterOperator[5]" value="like">
        <div class="col-md-5 vspacer-md">
            <input type="text" class="form-control" name="FilterValue[5]" value="<?php echo htmlspecialchars($FilterValue[5]); ?>" size="3">
        </div>
    </div>


    
            <!-- ########################################################## -->
            
        <?php
        	 $options = ["Afghanistan","Albania","Algeria","American Samoa","Andorra","Angola","Anguilla","Antarctica","Antigua, Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bosnia, Herzegovina","Botswana","Bouvet Is.","Brazil","Brunei Darussalam","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Canary Is.","Cape Verde","Cayman Is.","Central African Rep.","Chad","Channel Islands","Chile","China","Christmas Is.","Cocos Is.","Colombia","Comoros","Congo, D.R. Of","Congo","Cook Is.","Costa Rica","Croatia","Cuba","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Falkland Is.","Faroe Is.","Fiji","Finland","France","French Guiana","French Polynesia","French Territories","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guernsey","Guinea-bissau","Guinea","Guyana","Haiti","Heard, Mcdonald Is.","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Ivory Coast","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Korea, D.P.R Of","Korea, Rep. Of","Kuwait","Kyrgyzstan","Lao Peoples D.R.","Latvia","Lebanon","Lesotho","Liberia","Libyan Arab Jamahiriya","Liechtenstein","Lithuania","Luxembourg","Macao","Macedonia, F.Y.R Of","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mariana Islands","Marshall Islands","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montserrat","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands Antilles","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Niue","Norfolk Island","Norway","Oman","Pakistan","Palau","Palestinian Terr.","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Pitcairn","Poland","Portugal","Puerto Rico","Qatar","Reunion","Romania","Russian Federation","Rwanda","Samoa","San Marino","Sao Tome, Principe","Saudi Arabia","Senegal","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Is.","Somalia","South Africa","South Georgia","South Sandwich Is.","Spain","Sri Lanka","St. Helena","St. Kitts, Nevis","St. Lucia","St. Pierre, Miquelon","St. Vincent, Grenadines","Sudan","Suriname","Svalbard, Jan Mayen","Swaziland","Sweden","Switzerland","Syrian Arab Republic","Taiwan","Tajikistan","Tanzania","Thailand","Timor-leste","Togo","Tokelau","Tonga","Trinidad, Tobago","Tunisia","Turkey","Turkmenistan","Turks, Caicoss","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Viet Nam","Virgin Is. British","Virgin Is. U.S.","Wallis, Futuna","Western Sahara","Yemen","Yugoslavia","Zambia","Zimbabwe"];
        
            //convert options to select2 format
            $optionsList = array();
            for ($i = 0; $i < count($options); $i++) {
                $optionsList[] = (object) array(
                            "id" => $i,
                            "text" => $options[$i]
                );
            }
            $optionsList = json_encode($optionsList);

        
        //convert value to select2 format
        if ($FilterValue[6]) {
            $filtervalueObj = new stdClass();
            $text = htmlspecialchars($FilterValue[6]);
            $filtervalueObj->text = $text;
            $filtervalueObj->id = array_search($text, $options);

            $filtervalueObj = json_encode($filtervalueObj);
        }

        ?>        <div class="row vspacer-lg" style="border-bottom: dotted 2px #DDD;" >
            <div class="col-md-offset-2 col-md-2 vspacer-lg"><strong>Country</strong></div>
            <button type="button" class="btn btn-default pull-right" title='Clear fields'  onclick="clearFilters(this);" ><span class="glyphicon glyphicon-off"></button>

            <div id="9_DropDown"><span></span></div>

            <input type="hidden" name="FilterAnd[6]" value="and">
            <input type="hidden" name="FilterField[6]" value="9">
            <input type="hidden" name="FilterOperator[6]" value="equal-to">
            <input type="hidden" name="FilterValue[6]" id="9_currValue" value="<?php echo htmlspecialchars($FilterValue[6]); ?>" size="3">
            
        </div>

        <script>
            var populate_9 = <?php echo $filtervalueObj ;?>            
            $j(function () {
                $j("#9_DropDown").select2({
                    data: <?php echo $optionsList; ?>}).on('change', function (e) {
                    $j("#9_currValue").val(e.added.text);

                });


                /* preserve the applied filter and show it when re-opening the filters page */
                if ($j("#9_currValue").val().length) {
                    $j("#9_DropDown").select2('data', populate_9 );
                }
            });

        </script>
        
            <!-- ########################################################## -->
                

        <!-- sorting header  -->   
        <div class="row" style="border-bottom: solid 2px #DDD;">
            <div class="col-md-offset-2 col-md-8 vspacer-lg"><strong>order by</strong></div>
        </div>
        <!-- sorting rules -->
        <?php
        // Fields list
        $sortFields = new Combo;
        $sortFields->ListItem = $this->ColCaption;
        $sortFields->ListData = $this->ColNumber;

        // sort direction
        $sortDirs = new Combo;
        $sortDirs->ListItem = array("ascending" , "descending" );
        $sortDirs->ListData = array("asc", "desc");
        $num_rules = min(maxSortBy, count($this->ColCaption));

        for($i = 0; $i < $num_rules; $i++){
            $sfi = $sd = "";
            if(isset($orderBy[$i])) foreach($orderBy[$i] as $sfi => $sd);

            $sortFields->SelectName = "OrderByField$i";
            $sortFields->SelectID = "OrderByField$i";
            $sortFields->SelectedData = $sfi;
            $sortFields->SelectedText = "";
            $sortFields->Render();

            $sortDirs->SelectName = "OrderDir$i";
            $sortDirs->SelectID = "OrderDir$i";
            $sortDirs->SelectedData = $sd;
            $sortDirs->SelectedText = "";
            $sortDirs->Render();

            $border_style = ($i == $num_rules - 1 ? "solid 2px #DDD" : "dotted 1px #DDD");
            ?>
            <!-- sorting rule -->
            <div class="row" style="border-bottom: <?php echo $border_style; ?>;">
                <div class="col-xs-2 vspacer-md hidden-md hidden-lg"><strong><?php echo ($i ? "then by" : "order by"); ?></strong></div>
                <div class="col-md-2 col-md-offset-2 vspacer-md hidden-xs hidden-sm text-right"><strong><?php echo ($i ? "then by" : "order by"); ?></strong></div>
                <div class="col-xs-6 col-md-4 vspacer-md"><?php echo $sortFields->HTML; ?></div>
                <div class="col-xs-4 col-md-2 vspacer-md"><?php echo $sortDirs->HTML; ?></div>
            </div>
            <?php
        }
        ?>       

        <!-- function to handle the action of the clear field button -->
        <script>
            function clearFilters(elm){
                var parentDiv = $j(elm).parent(".row ");
                //get all input nodes
                inputValueChildren = parentDiv.find("input[type!=radio][name^=FilterValue]");
                inputRadioClildren = parentDiv.find("input[type=radio][name^=FilterValue]");
                
                //default input nodes ( text, hidden )
                inputValueChildren.each(function( index ) {
                    $j( this ).val('');
                });
                
                //radio buttons
                inputRadioClildren.each(function( index ) {
                    $j( this ).removeAttr('checked');

                    //checkbox case
                    if ($j( this ).val()=='') $j(this).attr("checked", "checked").click();
                });
                
                //lookup and select dropdown
                parentDiv.find("div[id$=DropDown],div[id^=filter_]").select2("val", "");

                //for lookup
                parentDiv.find("input[id^=lookupoperator_]").val('equal-to');

            }
        </script>

    
    <center><div style="margin-top:10px;" ><button class="btn btn-success btn-lg" >Apply</button></div></center>